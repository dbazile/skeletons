plugins {
    id 'java'
    id 'application'
}


group               = 'dbazile'
version             = '1.0.0-SNAPSHOT'
mainClassName       = 'dbazile.Main'

sourceCompatibility = 1.9


dependencies {
    compile 'org.slf4j:slf4j-api:1.7.25'
    compile 'org.slf4j:slf4j-log4j12:1.7.25'
    compile 'log4j:log4j:1.2.17'
//    compile 'ch.qos.logback:logback-classic:1.2.3'

    testCompile 'junit:junit:4.12'
    testCompile 'org.mockito:mockito-core:2.19.0'
}


repositories {
    mavenCentral()
}


task bundle(type: Jar) {
    manifest.attributes 'Main-Class': mainClassName
    appendix = 'bundle'

    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } } {
        exclude 'META-INF/*.SF'
        exclude 'META-INF/*.DSA'
        exclude 'META-INF/*.RSA'
    }

    with jar
}


// javadoc {
//     doFirst {
//         options.addStringOption('-add-modules', 'java.xml.bind')
//     }
// }
